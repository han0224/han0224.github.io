---
layout: single
title: "[í”„ë¡œê·¸ëž˜ë¨¸ìŠ¤]ë¶ˆëŸ‰ ì‚¬ìš©ìž"
categories:
  - Programmers
tag: [Coding Test, JS]
toc: true
---


## ðŸ“– ë¬¸ì œ

[level3 ë¶ˆëŸ‰ ì‚¬ìš©ìž](https://school.programmers.co.kr/learn/courses/30/lessons/64064)

## âœï¸ ë‚˜ì˜ í’€ì´

ìš°ì„  ì •ê·œì‹ì„ ì´ìš©í•´ ë¶ˆëŸ‰ ì‚¬ìš©ìžì™€ ë§¤ì¹­ ë˜ëŠ” ì‚¬ìš©ìžë¥¼ ì°¾ì„ ìˆ˜ ìžˆë„ë¡ ìž‘ì„±í•˜ì˜€ë‹¤.

ë˜í•œ, ë¶ˆëŸ‰ ì‚¬ìš©ìžì˜ ê¸¸ì´ë„ ê°™ì´ ë§Œë“¤ì–´ë‘ì–´ ê¸¸ì´ì™€ ì •ê·œì‹ì„ ì´ìš©í•˜ì˜€ë‹¤.

```javascript
const [reg, len] = [
          new RegExp(`${ban.replace(/\*/g, ".")}`),
          ban.length,
        ];
```

ì •ê·œì‹ì„ ì´ìš©í•´ ê¸¸ì´ê¹Œì§€ í•œë²ˆì— í•  ìˆ˜ë„ ìžˆê² ì§€ë§Œ, ì •ê·œì‹ì— ëŒ€í•´ ìž˜ ì•Œì§€ ëª»í•´ ìš°ì„ ì€ ì´ëŸ°ì‹ìœ¼ë¡œ ìž‘ì„±í•˜ì˜€ë‹¤.

ê·¸ ë‹¤ìŒ, ë¶ˆëŸ‰ ì‚¬ìš©ìž ì•„ì´ë”” ëª©ë¡ì— í•´ë‹¹í•˜ëŠ” ì‚¬ìš©ìž ì•„ì´ë””ë¥¼ í•˜ë‚˜ì˜ ë°°ì—´ë¡œ ì„ ì–¸í•´ì£¼ì—ˆë‹¤.

```javascript
const answer = banned_id.map((ban) => {
    const [reg, len] = [
        new RegExp(`${ban.replace(/\*/g, ".")}`),
        ban.length,
    ];
    return (user_id.map((user) => {
        if (user.length !== len) return false;
        const r = reg.test(user);
        return r ? user : false;
    }).filter((v) => v));
}).sort((a, b) => b.length - a.length);
```


ê·¸ ë‹¤ìŒì€ dfsë¥¼ ì´ìš©í•´ ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•´ì£¼ì—ˆë‹¤.

```javascript
const test = new Set();

const dfs = (index, visited) => {
    if (index === answer.length) {
        test.add(visited.sort().join(""));
        return true;
    }
    const res = [];
    for (let i = 0; i < answer[index].length; i++) {
        if (visited.includes(answer[index][i])) continue;
        const newVisited = [...visited, answer[index][i]];
        dfs(index + 1, newVisited);
    }
    return res;
};
```

dfsë¥¼ ì´ìš©í•´ ê°€ìž¥ ë§ˆì§€ë§‰ indexì— ì ‘ê·¼í•˜ì˜€ì„ë•Œ ë¶ˆëŸ‰ ì•„ì´ë”” ìˆ˜ë§Œí¼ì˜ ì œìž¬ ì•„ì´ë”” ìˆ˜ë¥¼ visitedì— ê°–ê³  ìžˆê¸°ì—

```javascript
if (index === answer.length) {
    test.add(visited.sort().join(""));
    return true;
}
```

ìœ„ì™€ ê°™ì´ test ë³€ìˆ˜ì— visitedì— ìžˆëŠ” ëª¨ë“  ê°’ë“¤ì„ ì •ë ¬í›„ ë¬¸ìžì—´ë¡œ ë§Œë“¤ì–´ ì¶”ê°€í•´ë‘ì—ˆë‹¤.

ì´ë ‡ê²Œ í•˜ë©´ ì´ì „ì— ë‹¤ë¥¸ ìˆœì„œë¡œ test ë³€ìˆ˜ì— ìžˆë”ë¼ë„ test ë³€ìˆ˜ëŠ” set ìžë£Œí˜•ì´ê¸°ì— ì¤‘ë³µì€ ìžë™ì ìœ¼ë¡œ ì œê±°ëœë‹¤.
## ðŸ‘©â€ðŸ’» ì½”ë“œ

```javascript
function solution(user_id, banned_id) {
    const answer = banned_id
      .map((ban) => {
        const [reg, len] = [
          new RegExp(`${ban.replace(/\*/g, ".")}`),
          ban.length,
        ];
        return user_id
          .map((user) => {
            if (user.length !== len) return false;
            const r = reg.test(user);
            return r ? user : false;
          })
          .filter((v) => v);
      })
      .sort((a, b) => b.length - a.length);
    const test = new Set();
    const dfs = (index, visited) => {
      if (index === answer.length) {
        test.add(visited.sort().join(""));
        return true;
      }
      const res = [];
      for (let i = 0; i < answer[index].length; i++) {
        if (visited.includes(answer[index][i])) continue;
        const newVisited = [...visited, answer[index][i]];
        dfs(index + 1, newVisited);
      }
      return res;
    };
    const r = dfs(0, []);
    return test.size;
  }
```
