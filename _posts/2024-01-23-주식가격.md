---
layout: single
title: "[í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] ì£¼ì‹ê°€ê²©"
categories:
  - Programmers
tag: [Coding Test, JS, Stack]
toc: true
---


## ğŸ“– ë¬¸ì œ

[level2 ì£¼ì‹ê°€ê²©](https://school.programmers.co.kr/learn/courses/30/lessons/42584)

## âœï¸ ë‚˜ì˜ í’€ì´

ë¬¸ì œ í‘¸ëŠ” ê²ƒë³´ë‹¤ ë¬¸ì œ í•´ì„ì´ ë” ì–´ë ¤ì› ë˜ ë¬¸ì œë‹¤.

![IMG_F9CB8D800D00-1](https://github.com/han0224/portfolio/assets/70616579/746b105a-a081-4653-a5da-782482ee27db){: width="300px"}

> ì´í•´í• ë ¤ê³  ì†ìœ¼ë¡œ í•˜ë‚˜í•˜ë‚˜ ì‘ì„±í–ˆë‹¤...

- ì´ ë¬¸ì œëŠ” ê°€ê²©ì´ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì´ ëª‡ ì´ˆì¸ì§€ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤.
- ì—¬ê¸°ì„œ ì˜ë¬¸ì´ ë“¤ì—ˆë˜ê²Œ ë–¨ì–´ì§€ì§€ ì•Šì€ ê¸°ê°„ì´ ëª‡ì´ˆì¸ê°€ ì´ ë¬¸ì¥ì´ ëª¨í˜¸í–ˆë‹¤.
- ë§Œì¼, [4, 5, 1, 2, 6, 1, 1] ì¼ê²½ìš°
- 0ë²ˆì§¸ ì¸ë±ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë³´ì•˜ì„ë•Œ 4ë³´ë‹¤ ì‘ì€ ê°¯ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œë¡œ ì°©ê°í–ˆë˜ ê²ƒì´ë‹¤.
- ê·¸ë˜ì„œ 0ë²ˆì§¸ ì¸ë±ìŠ¤ì˜ ê°’ì´ 3ì´ë¼ê³  ìƒê°í–ˆë‹¤.
  - í•˜ì§€ë§Œ ìœ„ ì˜ˆì‹œì˜ ë‹µì€ [2, 1, 4, 2, 1, 1, 0]
- ë¬¼ë¡  ì´ë ‡ê²Œ ìƒê°í•´ì„œ ë°”ë¡œ í’€ì§€ëŠ” ì•Šì•˜ë‹¤. ì´ ìƒê°ë„ ë­”ê°€ ì´ìƒí•˜ë‹¤ëŠ” ëŠë‚Œì´ ê°•í•´ì„œ ë¬¸ì œë¥¼ ëš«ì–´ì ¸ë¼ ì³ë‹¤ë´¤ë‹¤.
  - ì…ì¶œë ¥ ì˜ˆì‹œ [1, 2, 3, 2, 3]ì—ì„œ 2ë²ˆì§¸ ì¸ë±ìŠ¤ê°€ 2ë¡œ ë˜ë©´ ìœ„ ìƒê°ì´ ì™„ë²½í•œê±° ê°™ì€ë°...
- ê²°ë¡ ì ìœ¼ë¡œ ë¬¸ì œì— `ìµœì´ˆ`ë¼ëŠ” ë‹¨ì–´ í•˜ë‚˜ë§Œ ì¶”ê°€ë˜ë©´ ì˜¤í•´ ì—†ì´ í’€ ìˆ˜ ìˆëŠ” ë¬¸ì œì˜€ë˜ ê²ƒ ê°™ë‹¤.
- ìµœì´ˆë¡œ ë–¨ì–´ì§€ëŠ” ê¸°ê°„ì´ ëª‡ì´ˆì¸ì§€ë¥¼ êµ¬í•˜ë¼ëŠ” ë¬¸ì œì˜€ìœ¼ë©´ ì´ë ‡ê²Œê¹Œì§€ ê³ ë¯¼í•˜ì§€ ì•Šê³  ë°”ë¡œ í’€ ìˆ˜ ìˆì—ˆì„ ê²ƒê°™ë‹¤.
- ê°€ê²©ì´ ë–¨ì–´ì§„ í›„ë¶€í„°ëŠ” ë” ì´ìƒ ê³„ì‚°í•˜ì§€ ì•Šìœ¼ë©´ ëœê±°ì˜€ë‹¤!

### ì½”ë“œ ì„¤ëª…

#### ë³€ìˆ˜ ì„ ì–¸

```javascript
const answer = new Array(prices.length).fill(0);
const stack = [];
```
- answer: ì •ë‹µì„ ë‹´ì„ ë°°ì—´
- stack: ë§¤ê°œë³€ìˆ˜ì¸ `prices`ë¥¼ ë‹´ìœ¼ë©°, ë¹„êµí•  ë°°ì—´

#### stack ë¡œì§

```javascript
prices.forEach((price, index) => {
    if (!stack.length) {
        stack.push([price, index]);
        return;
    }
    while (stack.length) {
        const top = stack.pop();
        if (top[0] > price) {
            answer[top[1]] = index - top[1];
            continue;
        }
        stack.push(top);
        break;
    }
    stack.push([price, index]);
});
```

- ë§Œì¼ stackì´ ë¹„ì–´ìˆë‹¤ë©´, `price`, `index`ë¥¼ ë°°ì—´ í˜•íƒœë¡œ `stack`ì— ë„£ì–´ì¤€ë‹¤.
- ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´ `stack.length`ê°€ 0ì´ìƒì¼ë•Œê¹Œì§€ ë°˜ë³µë¬¸ì„ ëŒë¦°ë‹¤.

<br/>

**while ë°˜ë³µë¬¸ ë‚´ë¶€**

- `stack.pop()`ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ê°€ì¥ ìœ„ì— ìˆëŠ” ì›ì†Œë¥¼ êº¼ë‚¸ë‹¤.
- í•´ë‹¹ ì›ì†ŒëŠ” [value, index] í˜•íƒœë¡œ ì¡´ì¬í•œë‹¤.
  - í¸ì˜ìƒ popí•´ì„œ ì–»ì€ ê°’ì€ value, idx ë¡œ ë¶€ë¥´ê² ë‹¤.

**`value`ì˜ ê°’ì´ `price`ë³´ë‹¤ í´ ê²½ìš°**

- `value`ì˜ ê°’ì´ `price` ë³´ë‹¤ í¬ë©´ `answer[index]`ì˜ ê°’ì„ ì—…ë°ì´íŠ¸ í•´ì¤€ë‹¤.
- `index - idx` ì˜ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•´ì¤€ë‹¤.
  - í˜„ì¬ indexê¹Œì§€ ê°’ì´ ë‚®ì•„ì§€ì§€ ì•Šì•˜ê¸°ì— `index-idx`ë¡œ ì—…ë°ì´íŠ¸í•´ì¤€ë‹¤.
- ê·¸ ë‹¤ìŒ `stack`ì˜ ê°€ì¥ ìœ„ì— ìˆëŠ” ê°’ë„ í™•ì¸í•´ì•¼í•˜ê¸°ì— ë°”ë¡œ ë‹¤ìŒ ë°˜ë³µë¬¸ì„ ë°˜ë³µí•œë‹¤.
- `value`ì˜ ê°’ì´ `price` ë³´ë‹¤ ì‘ê±°ë‚˜ `stack`ì˜ ê¸¸ì´ê°€ 0ì´ ë ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤.

**`value`ì˜ ê°’ì´ `price`ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ì„ ê²½ìš°**

- popí•´ì„œ ì–»ì€ ì›ì†Œë¥¼ ì œê±°í•  í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ ë‹¤ì‹œ `stack`ì— ë„£ì–´ì¤€ë‹¤.
- `value`ì˜ ê°’ì´ `price`ë³´ë‹¤ í¬ê¸°ë•Œë¬¸ì— ë”ì´ìƒ ê²€ì‚¬í•  í•„ìš”ê°€ ì—†ë‹¤.
- ë”°ë¼ì„œ, ë°˜ë³µë¬¸ì„ ì¤‘ì§€ì‹œí‚¨ë‹¤.

**ë°˜ë³µë¬¸ ì¤‘ì§€ í›„**
- ë°˜ë³µë¬¸ì„ ë‚˜ì˜¤ë©´ í˜„ì¬ `price`ì™€ `index`ì˜ ê°’ì„ `stack`ì— ë°°ì—´ í˜•íƒœë¡œ ë„£ì–´ì¤€ë‹¤.



#### answer ì—…ë°ì´íŠ¸

```javascript
stack.forEach((value) => {
    answer[value[1]] = prices.length - value[1] - 1;
});
return answer;
```

- `stack`ì— ë‚¨ì•„ìˆëŠ” ì›ì†Œë“¤ì„ í† ëŒ€ë¡œ ë°˜ë³µë¬¸ì„ ëŒë¦°ë‹¤.
- `prices`ì˜ ê¸¸ì´ì— 1ì„ ëº€ ê°’ì— `idx`ê°’ì„ ëº€ ê°’ì„ answer[idx] ì— ì—…ë°ì´íŠ¸ ì‹œí‚¨ë‹¤.
- í˜„ì¬ `stack`ì— ë‚¨ì•„ìˆëŠ” ê°’ë“¤ì€ ëê¹Œì§€ ë–¨ì–´ì§€ì§€ ì•ŠëŠ” ê°’ì´ë¯€ë¡œ ëê¹Œì§€ ì¡´ì¬í–ˆì„ ë•Œ ê°’ì„ `answer`ì— ì—…ë°ì´íŠ¸ì‹œí‚¨ë‹¤.
- ë°˜ë³µë¬¸ì´ ì¢…ë£Œë˜ë©´ `answer`ê°’ì„ ìµœì¢…ì ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.

### ì¬ê·€ë¡œ í’€ê¸° - íš¨ìœ¨ì„± ì—ëŸ¬

ì²˜ìŒ ë¬¸ì œë¥¼ í’€ë•Œ `while`ë¬¸ì´ ì•„ë‹Œ ì¬ê·€ë¡œ í’€ì—ˆì—ˆë‹¤.

í•˜ì§€ë§Œ, ì¬ê·€ë¡œ í’€ê²½ìš° ëŸ°íƒ€ì„ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.

ì •í™•í•œ ì›ì¸ì€ ë” ì•Œì•„ë´ì•¼ê² ì§€ë§Œ, ì•„ë§ˆ stackoverflowê°€ ë°œìƒí•˜ëŠ”ê²Œ ì•„ë‹ê¹Œ ì‹¶ë‹¤.

```javascript
const checkTop = (price, index) => {
    if (!stack.length) return;
    const top = stack.pop();
    if (top[0] > price) {
        answer[top[1]] = index - top[1];
        checkTop(price, index);
    } else {
        stack.push(top);
    }
    stack.push([price, index]);
};
prices.forEach((price, index) => {
    if (!stack.length) {
        stack.push([price, index]);
        return;
    }
    checkTop(price, index)
});
```
- ë¡œì§ì€ ìœ„ì˜ ë¡œì§ê³¼ ë™ì¼í•˜ë‹¤.
- ë‹¨, ë°˜ë³µë¬¸ì´ ì•„ë‹Œ ì¬ê·€ë¡œ í’€ì—ˆë‹¤ëŠ” ì°¨ì´ì ë§Œ ì¡´ì¬í•œë‹¤.


## ğŸ‘©â€ğŸ’» ì½”ë“œ

```javascript
function solution(prices) {
    const answer = new Array(prices.length).fill(0);
    const stack = [];

    const checkTop = (price, index) => {
      if (!stack.length) return;
      const top = stack.pop();
      if (top[0] > price) {
        answer[top[1]] = index - top[1];
        checkTop(price, index);
      } else {
        stack.push(top);
      }
      stack.push([price, index]);
    };
    prices.forEach((price, index) => {
      if (!stack.length) {
        stack.push([price, index]);
        return;
      }
      // checkTop(price, index)
      while (stack.length) {
        const top = stack.pop();
        if (top[0] > price) {
          answer[top[1]] = index - top[1];
          continue;
        }
        stack.push(top);
        break;
      }
      stack.push([price, index]);
    });
    stack.forEach((value) => {
      answer[value[1]] = prices.length - value[1] - 1;
    });
    return answer;
  }
```